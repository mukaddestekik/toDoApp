<!-- src/app/components/todo-list/todo-list.component.html -->
<div class="todo-list-container">
  <!-- Error Message -->
  <div *ngIf="error" class="alert alert-error">
    <span>{{ error }}</span>
    <button (click)="clearError()" class="alert-close">&times;</button>
  </div>

  <!-- Todo Form -->
  <app-todo-form 
    [todo]="editingTodo"
    [isEditing]="isEditing"
    (todoSubmit)="onTodoSubmit($event)"
    (cancel)="cancelEdit()">
  </app-todo-form>

  <!-- Stats and Filters -->
  <div class="todo-stats-filters">
    <div class="todo-stats">
      <div class="stat">
        <span class="stat-number">{{ todos.length }}</span>
        <span class="stat-label">Toplam</span>
      </div>
      <div class="stat">
        <span class="stat-number">{{ pendingCount }}</span>
        <span class="stat-label">Devam Eden</span>
      </div>
      <div class="stat">
        <span class="stat-number">{{ completedCount }}</span>
        <span class="stat-label">Tamamlanan</span>
      </div>
    </div>

    <div class="todo-filters">
      <button 
        (click)="setFilter('all')" 
        [class.active]="filter === 'all'"
        class="filter-btn">
        T√ºm√º
      </button>
      <button 
        (click)="setFilter('pending')" 
        [class.active]="filter === 'pending'"
        class="filter-btn">
        Devam Eden
      </button>
      <button 
        (click)="setFilter('completed')" 
        [class.active]="filter === 'completed'"
        class="filter-btn">
        Tamamlanan
      </button>
    </div>
  </div>

  <!-- Search Section -->
  <div class="search-section">
    <div class="search-group">
      <div class="search-input-group">
        <label for="searchTerm">Ba≈ülƒ±k/A√ßƒ±klama Ara:</label>
        <input 
          type="text" 
          id="searchTerm"
          [(ngModel)]="searchTerm" 
          placeholder="G√∂rev ara..."
          class="search-input">
      </div>
      
      <div class="search-input-group">
        <label for="searchId">ID'ye G√∂re Ara:</label>
        <input 
          type="number" 
          id="searchId"
          [(ngModel)]="searchId" 
          placeholder="ID numarasƒ±..."
          class="search-input">
      </div>

      <button 
        (click)="clearSearch()" 
        class="clear-search-btn"
        *ngIf="searchTerm || searchId">
        Temizle
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    <div class="loading-spinner"></div>
    <p>G√∂revler y√ºkleniyor...</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && filteredTodos.length === 0" class="empty-state">
    <div class="empty-icon">üìù</div>
    <h3>
      <span *ngIf="filter === 'all'">Hen√ºz g√∂rev yok</span>
      <span *ngIf="filter === 'pending'">Devam eden g√∂rev yok</span>
      <span *ngIf="filter === 'completed'">Tamamlanan g√∂rev yok</span>
    </h3>
    <p>
      <span *ngIf="filter === 'all'">Yukarƒ±daki formu kullanarak ilk g√∂revini ekle!</span>
      <span *ngIf="filter === 'pending'">T√ºm g√∂revler tamamlanmƒ±≈ü. Harika i≈ü!</span>
      <span *ngIf="filter === 'completed'">Hen√ºz tamamlanmƒ±≈ü g√∂rev yok.</span>
    </p>
  </div>

  <!-- Todo List -->
  <div *ngIf="!loading && filteredTodos.length > 0" class="todos">
    <h2 class="todos-title">
      <span *ngIf="filter === 'all'">T√ºm G√∂revler ({{ filteredTodos.length }})</span>
      <span *ngIf="filter === 'pending'">Devam Eden G√∂revler ({{ filteredTodos.length }})</span>
      <span *ngIf="filter === 'completed'">Tamamlanan G√∂revler ({{ filteredTodos.length }})</span>
    </h2>

    <div class="todo-items">
      <app-todo-item 
        *ngFor="let todo of filteredTodos; trackBy: trackByTodoId"
        [todo]="todo"
        (edit)="onEditTodo($event)"
        (delete)="onDeleteTodo($event)"
        (toggleComplete)="onToggleComplete($event)">
      </app-todo-item>
    </div>
  </div>
</div>